.. dropdown:: Distribution Statement

 | # # # This source code is protected under the license referenced at
 | # # # https://github.com/NRLMMD-GEOIPS.

Version 1.10.2 (2023-06-13)
***************************

* Add v1_10_2.rst release note
* Finalize plugin organization

  * interface_modules -> plugins/modules
  * yaml_configs -> plugins/yaml
  * Rename subdirectories appropriately
* Finalize interface updates

  * Update interface names throughout code
  * Finalize required attributes / formatting for all plugins
  * Update all test scripts for new command line options
* Finalize setup/install

  * Update setuptools_scm to write to _version.py
  * Simplify setup.sh to only provide build/install of lunarref
  * Replace setup.py/setup.sh with pyproject.toml
  * Update to standard .gitignore
  * Update to standard README.md
* Finalize test_all.sh - check_code, and $GEOIPS checks

*From issue GEOIPS#251: 2023-05-17, version update*

Breaking Changes
================

Rename plugin directories
-------------------------

::

  renamed: lunarref/interface_modules/algorithms/visir/Lunar_Ref.py -> lunarref/plugins/modules/algorithms/visir/Lunar_Ref.py
  renamed: lunarref/interface_modules/algorithms/visir/Lunar_Ref_IR.py -> lunarref/plugins/modules/algorithms/visir/Lunar_Ref_IR.py
  renamed: lunarref/interface_modules/algorithms/visir/Overshooting_Top.py -> lunarref/plugins/modules/algorithms/visir/Overshooting_Top.py
  renamed: lunarref/yaml_configs/product_params/visir/Lunar-Ref-IR.yaml -> lunarref/plugins/yaml/product_defaults/visir/Lunar-Ref-IR.yaml
  renamed: lunarref/yaml_configs/product_params/visir/Lunar-Ref.yaml -> lunarref/plugins/yaml/product_defaults/visir/Lunar-Ref.yaml
  renamed: lunarref/yaml_configs/product_params/visir/Overshooting-Top.yaml -> lunarref/plugins/yaml/product_defaults/visir/Overshooting-Top.yaml
  renamed: lunarref/yaml_configs/product_inputs/viirs.yaml -> lunarref/plugins/yaml/products/viirs.yaml

Update all interface names throughout code base
-----------------------------------------------

* adjust_area_def -> sector_adjuster
* interface_modules -> plugins.modules
* gridlines_params -> gridline_annotator
* boundaries_params -> feature_annotator

::

  pyproject.toml
  modified:   filename_formatters/atcf_text_winds_tc_fname.py
  modified:   filename_formatters/old_tcweb_fname.py
  modified:   output_formatters/atcf_text_winds.py
  modified:   procflows/overlay.py

Finalize required attributes / formatting for all plugins
---------------------------------------------------------

This includes all module-based and YAML-based plugins.

Modified for black/code formatting as well.

::

  modified:   filename_formatters/__init__.py
  modified:   filename_formatters/atcf_text_winds_full_fname.py
  modified:   plugins/modules/filename_formatters/__init__.py
  modified:   plugins/modules/filename_formatters/atcf_text_winds_full_fname.py
  modified:   plugins/modules/filename_formatters/atcf_text_winds_tc_fname.py
  modified:   plugins/modules/filename_formatters/old_tcweb_fname.py
  modified:   plugins/modules/output_formatters/atcf_text_winds.py
  modified:   plugins/modules/sector_metadata_generators/gdeck_parser.py
  modified:   plugins/modules/readers/__init__.py
  modified:   plugins/modules/readers/buoy_nfile.py
  modified:   plugins/modules/readers/coamps_binary.py
  modified:   plugins/modules/readers/ecmwf_ieee.py
  modified:   plugins/modules/readers/gems_hdf5.py
  modified:   plugins/modules/readers/naaps_netcdf.py
  modified:   plugins/modules/readers/navgem_binary.py
  modified:   plugins/modules/readers/neptune_hdf5.py
  modified:   plugins/yaml/products/gems.yaml
  modified:   plugins/yaml/sectors/static/covg_gems_20201023_033158.yaml

Refactoring Updates
===================

Add __init__.py in all package directories
------------------------------------------

::

  new file: geoips_nrl/plugins/__init__.py
  modified: geoips_nrl/plugins/modules/__init__.py
  modified: geoips_nrl/plugins/modules/filename_formatters/__init__.py
  new file: geoips_nrl/plugins/modules/output_formatters/__init__.py
  new file: geoips_nrl/plugins/modules/procflows/__init__.py
  modified: geoips_nrl/plugins/modules/readers/__init__.py
  new file: geoips_nrl/plugins/modules/sector_metadata_generators/__init__.py

Update setuptools_scm to write to _version.py vs version.py
-----------------------------------------------------------

This is a more accepted and standard usage. Ensure we ignore the _version.py
file, import from __init__.py, as well as adding to pyproject.toml.

::

  .gitignore
  lunarref/__init__.py
  pyproject.toml

Replace setup.py with pyproject.toml
---------------------------------------------

::

  removed: setup.sh
  removed: setup.py
  new: pyproject.toml

Simplify setup.sh to only make and pip install lunarref
-------------------------------------------------------

Currently fortran build is NOT included in pyproject.toml.  For now, just
build separately from pip install.

::

  modified: setup.sh

Update to standard .gitignore
-----------------------------

Include all the standard .gitignore information from
the github template repo.

::

  modified: .gitignore

Update to standard README.md
----------------------------

Update to include standard README.md information.

* #installation and #readme links
* Explicit git clone command
* Reminder to enable GeoIPS environment, vs explicitly sourcing $GEOIPS_CONFIG_FILE
* Add check_system_requirements.sh commands for getting test data
* Update GeoIPS version requirement

::

  modified: README.md

Testing Updates
===============

Update test_all.sh to include $GEOIPS check and code_check test
---------------------------------------------------------------

Standardize test_all.sh to ensure $GEOIPS is cloned locally, and to
call the "code_check" test script by default.

::

  tests/test_all.sh

Update all test scripts for new command line options
----------------------------------------------------

output_format -> output_formatter
filename_format -> filename_formatter
boundaries_params -> feature_annotator
gridlines_params -> gridline_annotator

::

  modified:   tests/scripts/viirs.sh

Release Updates
===============

Add 1.10.0 release note
-----------------------

*From issue GEOIPS#251: 2023-05-17, version update*

::

    modified: CHANGELOG.rst
    new file: docs/source/releases/v1_10_2.rst
    modified: docs/source/releases/index.rst
